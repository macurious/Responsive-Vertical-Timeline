// Colors
$blue_color: #17a2b8;
$white_color: #fff;
$white_transparent_color: rgba(255,255,255,0.5);
$black_color: #111;
$background_gradient_color: #456990;

// Dimensions
$timeline_line_width: 0.6rem;
$timeline_node_size: 3rem;
$timeline_card_horizontal_space: 3em;
$timeline_card_vertical_space: 2em;
$timeline_speechbubble_arrow_size: 1.5rem;
$timeline_margin_size: 2.5em;
$timeline_card_width: 45rem;
$timeline_card_width_negative: -$timeline_card_width;
$timeline_width_offset: calc(100vw - ($timeline_margin_size * 2) - ($timeline_card_horizontal_space + $timeline_speechbubble_arrow_size));

*,
*::before,
*::after {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

html {
	font-size: 10px;
}

body {
	font: normal 1.6rem/1.5 sans-serif;
	background: $background_gradient_color;
	background-image: linear-gradient($background_gradient_color 30%, $black_color);
	background-attachment: fixed;
	color: $white_color;
	overflow-x: hidden;
	padding-bottom: 50px;
} 		

.timeline {
	
	h4 {
		font-size: 1.5em;
		font-weight: 200;
		color: $black_color;
	}
	
	ul li {
		list-style-type: none;
		position: relative;
		width: $timeline_line_width;
		margin: 0 $timeline_margin_size;
		padding: $timeline_card_vertical_space 0;
		background: $blue_color;
		
		&::after {
			content: "";
			position: absolute;
			
			//left: calc(($timeline_line_width * 2) - (($timeline_line_width * 2) * 2));
			
			bottom: 0;			
			left: 50%;
			//transform: translateX(-50%);

			width: $timeline_node_size;
			height: $timeline_node_size;
			
			// only for optional animation
			transform: scale(0) translateX(-50%);
			// /			
			
			border-radius: 50%;
			background: inherit;
			
			// only for optional animation
			visibility: hidden;
			opacity: 0;
			transition: all 0.35s ease-in-out;
			transform-origin: left;
			// /
		}
		
		// only for optional animation
		&.slide-in::after {
			visibility: visible;
			opacity: 1;
			transform: scale(1) translateX(-50%);
		}
		// /
		
		div {
			position: relative;
			top: calc($timeline_card_vertical_space * 2);
			width: $timeline_width_offset;
			padding: 1.25rem 1.75rem;
			background: $white_transparent_color;
			
			// only for optional animation
			visibility: hidden;
			opacity: 0;
			transition: all 0.5s ease-in-out;
			// /
			
			&::before {
				content: "";
				position: absolute;
				bottom: $timeline_card_vertical_space;
				width: 0;
				height: 0;
				border-style: solid;
			}
		}
		
		// only for optional animation
		&.slide-in div {
			transform: none !important;
			visibility: visible;
			opacity: 1;
		}
		// /
		
		&:nth-child(odd) div {
			left: calc($timeline_card_horizontal_space + $timeline_speechbubble_arrow_size);
			transform: translateX(20rem);
			
			&::before {
				left: -$timeline_speechbubble_arrow_size;
				border-width: $timeline_speechbubble_arrow_size $timeline_speechbubble_arrow_size $timeline_speechbubble_arrow_size 0;
				border-color: transparent $white_transparent_color transparent transparent;
			}
		}
		
		&:nth-child(even) div {
			left: calc($timeline_card_horizontal_space + $timeline_speechbubble_arrow_size);
			transform: translateX(20rem);
			
			&::before {
				left: -$timeline_speechbubble_arrow_size;
				border-width: $timeline_speechbubble_arrow_size $timeline_speechbubble_arrow_size $timeline_speechbubble_arrow_size 0;
				border-color: transparent $white_transparent_color transparent transparent;
			}
		}
	}
}

@media only screen and (min-width: 992px) {
	.timeline {
		
		ul li {
			margin: 0 auto;
			div {
				width: $timeline_card_width;
			}
		
			&:nth-child(odd) div {				
				left: calc(($timeline_card_width - $timeline_card_width * 2) - ($timeline_card_horizontal_space + $timeline_speechbubble_arrow_size));
				transform: translateX(-20rem);
				
				&::before {
					left: $timeline_card_width;
					border-width: $timeline_speechbubble_arrow_size 0 $timeline_speechbubble_arrow_size $timeline_speechbubble_arrow_size;
					border-color: transparent transparent transparent $white_transparent_color;
				}
			}	
		}
	}
}	